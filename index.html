<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SY5TEM N3XT - HARDWIRED FOR HUM4NS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background: #000;
            font-family: 'Courier New', monospace;
        }
        
        @keyframes scanlines {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }
        
        @keyframes loadingBar {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            5% { opacity: 0.8; }
            10% { opacity: 1; }
            15% { opacity: 0.3; }
            20% { opacity: 1; }
            50% { opacity: 1; }
            52% { opacity: 0.4; }
            54% { opacity: 1; }
            90% { opacity: 1; }
            95% { opacity: 0.6; }
        }
        
        @keyframes flicker-intense {
            0%, 100% { opacity: 1; }
            3% { opacity: 0.2; }
            6% { opacity: 1; }
            9% { opacity: 0.1; }
            12% { opacity: 1; }
            15% { opacity: 0.4; }
            18% { opacity: 1; }
            50% { opacity: 1; }
            53% { opacity: 0.2; }
            56% { opacity: 1; }
            80% { opacity: 1; }
            83% { opacity: 0.3; }
            86% { opacity: 1; }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink {
            50% { border-color: transparent; }
        }
        
        @keyframes statusPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }
        
        @keyframes colorCycle {
            0% { color: #d4a574; text-shadow: 0 0 10px rgba(212, 165, 116, 0.5); }
            33% { color: #d49a74; text-shadow: 0 0 10px rgba(212, 154, 116, 0.5); }
            66% { color: #74d474; text-shadow: 0 0 15px rgba(116, 212, 116, 0.6); }
            100% { color: #d4a574; text-shadow: 0 0 10px rgba(212, 165, 116, 0.5); }
        }
        
        @keyframes barWave {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .flicker {
            animation: flicker 2s infinite;
        }
        
        .flicker-intense {
            animation: flicker-intense 1.5s infinite;
        }
        
        .typewriter-container {
            overflow: hidden;
            white-space: nowrap;
            border-right: 0.15em solid #fff;
            animation: blink 0.75s step-end infinite;
            width: 0;
        }
        
        .typewriter-animate {
            animation: typewriter 2s steps(18) forwards, blink 0.75s step-end infinite;
        }
        
        canvas {
            display: block;
        }
        
        #intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #main-content {
            opacity: 0;
            transition: opacity 1s ease-in;
        }
        
        #main-content.visible {
            opacity: 1;
        }
        
        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border: 1px solid #4b5563;
            border-radius: 50%;
            transition: all 0.2s ease;
            margin: 0 8px;
        }
        
        .social-icon:hover {
            border-color: #fff;
            background: rgba(255,255,255,0.1);
            transform: scale(1.1);
        }
        
        .social-icon svg {
            width: 20px;
            height: 20px;
            fill: #9ca3af;
            transition: fill 0.2s ease;
        }
        
        .social-icon:hover svg {
            fill: #fff;
        }
        
        .social-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem;
            margin-top: 3rem;
        }
        
        /* Status indicator - top right */
        .status-container {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 4px;
            z-index: 50;
            font-family: 'Courier New', monospace;
            animation: colorCycle 6s ease-in-out infinite;
        }
        
        .status-line {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: bold;
            letter-spacing: 0.1em;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: currentColor;
            animation: statusPulse 0.8s ease-in-out infinite;
            box-shadow: 0 0 15px currentColor;
        }
        
        .status-latency {
            font-size: 12px;
            opacity: 0.9;
            min-width: 50px;
            text-align: right;
        }
        
        .status-bars {
            display: flex;
            gap: 2px;
            align-items: flex-end;
            height: 16px;
        }
        
        .status-bar {
            width: 4px;
            background-color: currentColor;
            opacity: 0.3;
            transition: all 0.3s ease;
        }
        
        .status-bar:nth-child(1) { height: 4px; animation: barWave 0.6s ease-in-out infinite; }
        .status-bar:nth-child(2) { height: 8px; animation: barWave 0.6s ease-in-out infinite 0.1s; }
        .status-bar:nth-child(3) { height: 12px; animation: barWave 0.6s ease-in-out infinite 0.2s; }
        .status-bar:nth-child(4) { height: 16px; animation: barWave 0.6s ease-in-out infinite 0.3s; }
        .status-bar:nth-child(5) { height: 10px; animation: barWave 0.6s ease-in-out infinite 0.4s; }
        
        .status-bar.active {
            opacity: 1;
            box-shadow: 0 0 8px currentColor;
        }
        
        /* Decode text styling */
        .decode-text {
            font-family: 'Courier New', monospace;
            letter-spacing: 0.15em;
            color: #d1d5db;
        }
        
        .decode-char {
            display: inline-block;
            transition: color 0.1s ease;
        }
        
        .decode-char.scramble {
            color: #00ff41 !important;
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.8);
        }
        
        .w-full { width: 100%; }
        .min-h-screen { min-height: 100vh; }
        .bg-black { background-color: #000; }
        .relative { position: relative; }
        .absolute { position: absolute; }
        .fixed { position: fixed; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .overflow-hidden { overflow: hidden; }
        .z-10 { z-index: 10; }
        .z-50 { z-index: 50; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .text-center { text-align: center; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .py-12 { padding-top: 3rem; padding-bottom: 3rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mt-12 { margin-top: 3rem; }
        .block { display: block; }
        .inline-block { display: inline-block; }
        .text-4xl { font-size: 2.25rem; }
        .text-6xl { font-size: 3.75rem; }
        .text-8xl { font-size: 6rem; }
        .text-base { font-size: 1rem; }
        .text-xs { font-size: 0.75rem; }
        .font-bold { font-weight: 700; }
        .tracking-wider { letter-spacing: 0.05em; }
        .tracking-widest { letter-spacing: 0.1em; }
        .leading-tight { line-height: 1.25; }
        .opacity-70 { opacity: 0.7; }
        .opacity-80 { opacity: 0.8; }
        .text-white { color: #fff; }
        .text-gray-300 { color: #d1d5db; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-500 { color: #6b7280; }
        .border { border-width: 1px; }
        .border-gray-700 { border-color: #374151; }
        .rounded { border-radius: 0.25rem; }
        .rounded-full { border-radius: 9999px; }
        .p-4 { padding: 1rem; }
        .grid { display: grid; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .gap-4 { gap: 1rem; }
        .max-w-5xl { max-width: 64rem; }
        .max-w-3xl { max-width: 48rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .w-full { width: 100%; }
        .h-px { height: 1px; }
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-transparent { --tw-gradient-from: transparent; }
        .to-gray-500 { --tw-gradient-to: #6b7280; }
        .flex-wrap { flex-wrap: wrap; }
        .gap-3 { gap: 0.75rem; }
        .w-1 { width: 0.25rem; }
        .h-1 { height: 0.25rem; }
        .bg-gray-400 { background-color: #9ca3af; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .h-3 { height: 0.75rem; }
        .w-px { width: 1px; }
        .bg-gray-700 { background-color: #374151; }
        .h-32 { height: 8rem; }
        .pointer-events-none { pointer-events: none; }
        .cursor-pointer { cursor: pointer; }
        .transition-colors { transition-property: color; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .hover\:text-white:hover { color: #fff; }
        .gap-2 { gap: 0.5rem; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        
        /* Mobile fixes - reduced scanlines visibility */
        @media (max-width: 768px) {
            .scanlines-mobile {
                opacity: 0.02 !important;
                background-image: repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(255, 255, 255, 0.15) 3px, rgba(255, 255, 255, 0.15) 6px) !important;
            }
            
            .status-container {
                top: 10px;
                right: 10px;
            }
            
            .status-line {
                font-size: 11px;
            }
            
            .status-latency {
                font-size: 10px;
            }
            
            .status-dot {
                width: 8px;
                height: 8px;
            }
            
            .status-bars {
                height: 12px;
            }
            
            .status-bar {
                width: 3px;
            }
            
            .status-bar:nth-child(1) { height: 3px; }
            .status-bar:nth-child(2) { height: 6px; }
            .status-bar:nth-child(3) { height: 9px; }
            .status-bar:nth-child(4) { height: 12px; }
            .status-bar:nth-child(5) { height: 8px; }
        }
        
        @media (min-width: 640px) {
            .sm\:px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
            .sm\:py-16 { padding-top: 4rem; padding-bottom: 4rem; }
            .sm\:text-6xl { font-size: 3.75rem; }
            .sm\:text-lg { font-size: 1.125rem; }
            .sm\:text-sm { font-size: 0.875rem; }
            .sm\:mb-6 { margin-bottom: 1.5rem; }
            .sm\:mb-8 { margin-bottom: 2rem; }
            .sm\:mt-14 { margin-top: 3.5rem; }
            .sm\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
            .sm\:gap-6 { gap: 1.5rem; }
            .sm\:h-40 { height: 10rem; }
            .sm\:text-xs { font-size: 0.875rem; }
            .sm\:h-4 { height: 1rem; }
        }
        
        @media (min-width: 768px) {
            .md\:text-7xl { font-size: 4.5rem; }
            .md\:text-xl { font-size: 1.25rem; }
            
            .status-container {
                top: 30px;
                right: 30px;
            }
            
            .status-line {
                font-size: 16px;
            }
            
            .status-latency {
                font-size: 14px;
            }
        }
        
        @media (min-width: 1024px) {
            .lg\:px-8 { padding-left: 2rem; padding-right: 2rem; }
            .lg\:py-20 { padding-top: 5rem; padding-bottom: 5rem; }
            .lg\:text-8xl { font-size: 6rem; }
            .lg\:text-2xl { font-size: 1.5rem; }
            .lg\:mb-10 { margin-bottom: 2.5rem; }
            .lg\:mb-12 { margin-bottom: 3rem; }
            .lg\:mt-16 { margin-top: 4rem; }
            .lg\:h-48 { height: 12rem; }
        }
        
        @media (min-width: 1280px) {
            .xl\:text-9xl { font-size: 8rem; }
            .xl\:text-3xl { font-size: 1.875rem; }
        }
    </style>
</head>
<body>

<!-- Intro Overlay with Big Typing Text -->
<div id="intro-overlay">
    <div class="text-center">
        <div id="typewriter-text" class="text-6xl sm:text-8xl lg:text-9xl font-bold text-white tracking-widest font-mono" style="text-shadow: 0 0 30px rgba(255,255,255,0.8);">
            <span id="typing-content"></span><span class="animate-pulse">_</span>
        </div>
    </div>
</div>

<!-- Status Indicator - Top Right -->
<div class="status-container" id="status-container">
    <div class="status-line">
        <div class="status-dot"></div>
        <span>CONNECTED</span>
        <span class="status-latency" id="latency">12ms</span>
    </div>
    <div class="status-bars" id="status-bars">
        <div class="status-bar active"></div>
        <div class="status-bar active"></div>
        <div class="status-bar active"></div>
        <div class="status-bar active"></div>
        <div class="status-bar"></div>
    </div>
</div>

<!-- Main Content (Hidden Initially) -->
<div id="main-content" class="w-full min-h-screen bg-black relative overflow-hidden">
    <!-- Three.js Canvas Container -->
    <div id="canvas-container" class="absolute inset-0 w-full h-full" style="touch-action: none;"></div>

    <!-- Vignette Overlay -->
    <div class="absolute inset-0 pointer-events-none" style="background: radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0.9) 100%);"></div>

    <!-- Scanlines - with mobile class -->
    <div id="scanlines" class="absolute inset-0 opacity-5 pointer-events-none mix-blend-overlay" style="background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 255, 255, 0.3) 2px, rgba(255, 255, 255, 0.3) 4px); animation: scanlines 8s linear infinite;"></div>

    <!-- Content -->
    <div class="relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20">
        <div class="text-center max-w-5xl w-full">

            <!-- Main Title with Flickering 5 and 3 -->
            <h1 class="mb-6 sm:mb-8">
                <span class="block text-4xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold tracking-wider text-white leading-tight" style="font-family: monospace; text-shadow: 0 0 20px rgba(255, 255, 255, 0.7), 0 0 40px rgba(255, 255, 255, 0.4), 0 0 60px rgba(255, 255, 255, 0.2);">
                    <span class="flicker">S</span><span class="flicker">Y</span><span class="flicker-intense">5</span><span class="flicker">T</span><span class="flicker">E</span><span class="flicker">M</span>
                    <span class="mx-2 sm:mx-4"></span>
                    <span class="flicker">N</span><span class="flicker-intense">3</span><span class="flicker">X</span><span class="flicker">T</span>
                </span>
            </h1>

            <!-- Subtitle with Decode Animation -->
            <p class="text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl text-gray-300 mb-2 sm:mb-4 tracking-[0.15em] sm:tracking-[0.2em] font-mono opacity-80 leading-relaxed px-2">
                <span id="decode-text" class="decode-text">HARDWIRED FOR HUM4NS</span>
            </p>
            
            <p class="text-xs sm:text-sm md:text-base lg:text-lg text-gray-500/60 tracking-[0.2em] sm:tracking-[0.3em] block mb-8 sm:mb-10 lg:mb-12">
                We build tools that respect your attention
            </p>

            <!-- Products Section -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 max-w-3xl mx-auto px-2 mb-12">
                
                <!-- Clip Locker -->
                <div class="relative group backdrop-blur-sm bg-gray-950/10 border border-gray-500/20 p-4 sm:p-5 hover:border-gray-400/50 transition-all duration-300">
                    <div class="absolute top-0 left-0 w-2 h-2 bg-gray-400 animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]"></div>
                    <div class="absolute top-0 right-0 w-2 h-2 bg-gray-400/30"></div>
                    <div class="absolute bottom-0 left-0 w-2 h-2 bg-gray-400/30"></div>
                    <div class="absolute bottom-0 right-0 w-2 h-2 bg-gray-400 animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]"></div>

                    <div class="text-[10px] sm:text-xs font-mono text-gray-500/60 mb-2 tracking-wider">PRODUCT 01</div>
                    <div class="text-base sm:text-lg font-mono text-white tracking-wide mb-2">Clip Locker</div>
                    <div class="text-xs text-gray-400">Advanced clipboard handling. In review.</div>

                    <div class="mt-3 h-1 bg-gray-950/50 rounded-full overflow-hidden">
                        <div class="h-full bg-gray-400 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.6)]" style="width: 100%; animation: loadingBar 2s ease-out 0s;"></div>
                    </div>
                </div>

                <!-- Snap Stash -->
                <div class="relative group backdrop-blur-sm bg-gray-950/10 border border-gray-500/20 p-4 sm:p-5 hover:border-gray-400/50 transition-all duration-300" style="animation-delay: 0.2s;">
                    <div class="absolute top-0 left-0 w-2 h-2 bg-gray-400 animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]" style="animation-delay: 0.2s;"></div>
                    <div class="absolute top-0 right-0 w-2 h-2 bg-gray-400/30"></div>
                    <div class="absolute bottom-0 left-0 w-2 h-2 bg-gray-400/30"></div>
                    <div class="absolute bottom-0 right-0 w-2 h-2 bg-gray-400 animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]" style="animation-delay: 0.2s;"></div>

                    <div class="text-[10px] sm:text-xs font-mono text-gray-500/60 mb-2 tracking-wider">PRODUCT 02</div>
                    <div class="text-base sm:text-lg font-mono text-white tracking-wide mb-2">Snap Stash</div>
                    <div class="text-xs text-gray-400">Smart content clipping. In development.</div>

                    <div class="mt-3 h-1 bg-gray-950/50 rounded-full overflow-hidden">
                        <div class="h-full bg-gray-400 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.6)]" style="width: 70%; animation: loadingBar 2s ease-out 0.2s;"></div>
                    </div>
                </div>

                <!-- Link Dump -->
                <div class="relative group backdrop-blur-sm bg-gray-950/10 border border-gray-500/20 p-4 sm:p-5 hover:border-gray-400/50 transition-all duration-300" style="animation-delay: 0.4s;">
                    <div class="absolute top-0 left-0 w-2 h-2 bg-gray-400 animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]" style="animation-delay: 0.4s;"></div>
                    <div class="absolute top-0 right-0 w-2 h-2 bg-gray-400/30"></div>
                    <div class="absolute bottom-0 left-0 w-2 h-2 bg-gray-400/30"></div>
                    <div class="absolute bottom-0 right-0 w-2 h-2 bg-gray-400 animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]" style="animation-delay: 0.4s;"></div>

                    <div class="text-[10px] sm:text-xs font-mono text-gray-500/60 mb-2 tracking-wider">PRODUCT 03</div>
                    <div class="text-base sm:text-lg font-mono text-white tracking-wide mb-2">Link Dump</div>
                    <div class="text-xs text-gray-400">Bookmark management. Coming soon.</div>

                    <div class="mt-3 h-1 bg-gray-950/50 rounded-full overflow-hidden">
                        <div class="h-full bg-gray-400 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.6)]" style="width: 30%; animation: loadingBar 2s ease-out 0.4s;"></div>
                    </div>
                </div>
            </div>

            <!-- Social Icons - X, Email, and GitHub on same line -->
            <div class="social-container">
                <!-- X Icon -->
                <a href="https://x.com/sy5temn3xt" target="_blank" class="social-icon" aria-label="Follow us on X">
                    <svg viewBox="0 0 24 24">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
                
                <!-- Email Icon -->
                <a href="mailto:sy5temn3xt@proton.me" class="social-icon" aria-label="Email us">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                    </svg>
                </a>

                <!-- GitHub Icon -->
                <a href="https://github.com/sy5temn3xt" target="_blank" class="social-icon" aria-label="GitHub">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
            </div>

        </div>
    </div>

    <!-- Bottom Gradient Fade -->
    <div class="absolute bottom-0 left-0 right-0 h-32 sm:h-40 lg:h-48 bg-gradient-to-t from-black via-black/50 to-transparent pointer-events-none"></div>
</div>

<script>
// Intro Animation
const text = "System Initialize";
const typingElement = document.getElementById('typing-content');
const introOverlay = document.getElementById('intro-overlay');
const mainContent = document.getElementById('main-content');

let charIndex = 0;

function typeText() {
    if (charIndex < text.length) {
        typingElement.textContent += text.charAt(charIndex);
        charIndex++;
        setTimeout(typeText, 100);
    } else {
        setTimeout(() => {
            introOverlay.style.opacity = '0';
            introOverlay.style.transition = 'opacity 1s ease-out';
            
            setTimeout(() => {
                introOverlay.style.display = 'none';
                mainContent.classList.add('visible');
                // Start animations after intro
                setTimeout(() => {
                    startStatusAnimations();
                    startDecodeLoop();
                }, 1000);
            }, 1000);
        }, 3000);
    }
}

setTimeout(typeText, 1000);

// Status Indicator Animations
const latencyElement = document.getElementById('latency');
const statusBars = document.querySelectorAll('.status-bar');

function updateLatency() {
    const latency = Math.floor(Math.random() * 16) + 8; // 8-24ms
    latencyElement.textContent = latency + 'ms';
}

function updateBars() {
    statusBars.forEach((bar, index) => {
        const isActive = Math.random() > 0.2;
        bar.classList.toggle('active', isActive);
    });
}

function startStatusAnimations() {
    // Update latency every 800ms
    setInterval(updateLatency, 800);
    // Update bars every 600ms
    setInterval(updateBars, 600);
    // Initial calls
    updateLatency();
    updateBars();
}

// Decode Animation for HARDWIRED FOR HUM4NS
const decodeText = "HARDWIRED FOR HUM4NS";
const decodeElement = document.getElementById('decode-text');
const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*";
let decodeInterval;

function createDecodeSpans() {
    decodeElement.innerHTML = '';
    for (let i = 0; i < decodeText.length; i++) {
        const span = document.createElement('span');
        span.textContent = decodeText[i];
        span.className = 'decode-char';
        span.dataset.index = i;
        decodeElement.appendChild(span);
    }
}

function decodeAnimation() {
    const spans = decodeElement.querySelectorAll('.decode-char');
    let iteration = 0;
    const maxIterations = 15;
    
    clearInterval(decodeInterval);
    
    decodeInterval = setInterval(() => {
        spans.forEach((span, index) => {
            if (index < iteration / 2) {
                span.textContent = decodeText[index];
                span.classList.remove('scramble');
            } else {
                span.textContent = chars[Math.floor(Math.random() * chars.length)];
                span.classList.add('scramble');
            }
        });
        
        if (iteration >= decodeText.length * 2) {
            clearInterval(decodeInterval);
            spans.forEach(span => {
                span.textContent = decodeText[span.dataset.index];
                span.classList.remove('scramble');
            });
        }
        
        iteration++;
    }, 60);
}

function startDecodeLoop() {
    createDecodeSpans();
    decodeAnimation();
    // Loop every 5 seconds
    setInterval(decodeAnimation, 5000);
}

// Apply mobile scanline fix
if (window.innerWidth < 768) {
    document.getElementById('scanlines').classList.add('scanlines-mobile');
}

// Three.js Scene Setup
const container = document.getElementById('canvas-container');
const width = container.clientWidth;
const height = container.clientHeight;

const scene = new THREE.Scene();
scene.fog = new THREE.Fog(0x000000, 15, 60);

const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
camera.position.set(0, 0, 20);

const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
renderer.setSize(width, height);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
container.appendChild(renderer.domElement);

const mouse = { x: 0, y: 0 };
const targetMouse = { x: 0, y: 0 };

// Check if mobile for adjustments
const isMobile = window.innerWidth < 768;
const particleCount = isMobile ? 800 : window.innerWidth < 1024 ? 1500 : 2000;

const geometry = new THREE.BufferGeometry();
const positions = new Float32Array(particleCount * 3);
const velocities = new Float32Array(particleCount);
const sizes = new Float32Array(particleCount);
const colors = new Float32Array(particleCount * 3);

for (let i = 0; i < particleCount; i++) {
    const i3 = i * 3;
    positions[i3] = (Math.random() - 0.5) * 80;
    positions[i3 + 1] = (Math.random() - 0.5) * 80;
    positions[i3 + 2] = Math.random() * 50 + 10;
    velocities[i] = Math.random() * 0.08 + 0.02;
    
    // Smaller particles on mobile to avoid blocky look
    sizes[i] = Math.random() * (isMobile ? 0.15 : 0.3) + (isMobile ? 0.05 : 0.1);
    
    // Dimmer particles on mobile
    const brightness = Math.random() * (isMobile ? 0.4 : 0.6) + (isMobile ? 0.2 : 0.4);
    colors[i3] = brightness;
    colors[i3 + 1] = brightness;
    colors[i3 + 2] = brightness;
}

geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

const particleMaterial = new THREE.PointsMaterial({
    size: isMobile ? 0.12 : 0.2,
    sizeAttenuation: true,
    vertexColors: true,
    transparent: true,
    opacity: isMobile ? 0.5 : 0.8,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});

const particleSystem = new THREE.Points(geometry, particleMaterial);
scene.add(particleSystem);

const gridSize = 50;
const gridDivisions = 50;
const gridHelper = new THREE.GridHelper(gridSize, gridDivisions, 0x333333, 0x1a1a);
gridHelper.position.y = -15;
gridHelper.rotation.x = Math.PI / 6;
gridHelper.material.transparent = true;
gridHelper.material.opacity = isMobile ? 0.2 : 0.3;
scene.add(gridHelper);

const verticalGrid = new THREE.GridHelper(gridSize, gridDivisions, 0x333333, 0x111111);
verticalGrid.rotation.x = Math.PI / 2;
verticalGrid.position.z = -20;
verticalGrid.material.transparent = true;
verticalGrid.material.opacity = isMobile ? 0.1 : 0.15;
scene.add(verticalGrid);

const ambientLight = new THREE.AmbientLight(0x333333, isMobile ? 0.3 : 0.3);
scene.add(ambientLight);

const pointLight1 = new THREE.PointLight(0xffffff, isMobile ? 0.8 : 1, 50);
pointLight1.position.set(10, 10, 10);
scene.add(pointLight1);

const pointLight2 = new THREE.PointLight(0x666666, isMobile ? 0.4 : 0.5, 50);
pointLight2.position.set(-10, -10, -10);
scene.add(pointLight2);

let time = 0;
function animate() {
    requestAnimationFrame(animate);
    time += 0.01;

    mouse.x += (targetMouse.x - mouse.x) * 0.05;
    mouse.y += (targetMouse.y - mouse.y) * 0.05;

    const positions = particleSystem.geometry.attributes.position.array;
    for (let i = 0; i < particleCount; i++) {
        const i3 = i * 3;
        positions[i3 + 2] -= velocities[i] * 2;
        if (positions[i3 + 2] < -20) {
            positions[i3 + 2] = 60;
            positions[i3] = (Math.random() - 0.5) * 80;
            positions[i3 + 1] = (Math.random() - 0.5) * 80;
        }
    }
    particleSystem.geometry.attributes.position.needsUpdate = true;
    particleSystem.rotation.y += 0.0001;

    camera.position.x += (mouse.x * 5 - camera.position.x) * 0.03;
    camera.position.y += (-mouse.y * 3 - camera.position.y) * 0.03;
    camera.lookAt(0, 0, 0);

    renderer.render(scene, camera);
}
animate();

function handleResize() {
    const newWidth = container.clientWidth;
    const newHeight = container.clientHeight;
    camera.aspect = newWidth / newHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(newWidth, newHeight);
}

function handleMouseMove(e) {
    const rect = container.getBoundingClientRect();
    targetMouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
    targetMouse.y = ((e.clientY - rect.top) / rect.height) * 2 - 1;
}

function handleTouchMove(e) {
    if (e.touches.length > 0) {
        const rect = container.getBoundingClientRect();
        targetMouse.x = ((e.touches[0].clientX - rect.left) / rect.width) * 2 - 1;
        targetMouse.y = ((e.touches[0].clientY - rect.top) / rect.height) * 2 - 1;
    }
}

window.addEventListener('resize', handleResize);
container.addEventListener('mousemove', handleMouseMove);
container.addEventListener('touchmove', handleTouchMove, { passive: true });
</script>

</body>
</html>
